

import * as Block from "bs-platform/lib/es6/block.js";

function fromPromise(promise) {
  return (function (sink) {
      var ended = /* record */[/* contents */false];
      promise.then((function (value) {
              if (!ended[0]) {
                sink(/* Push */Block.__(1, [value]));
                sink(/* End */0);
              }
              return Promise.resolve(/* () */0);
            }));
      return sink(/* Start */Block.__(0, [(function (signal) {
                        if (signal) {
                          ended[0] = true;
                          return /* () */0;
                        } else {
                          return /* () */0;
                        }
                      })]));
    });
}

export {
  fromPromise ,
  
}
/* No side effect */
