'use strict';

var Block = require("bs-platform/lib/js/block.js");

function make(f) {
  return (function (sink) {
      var teardown = /* record */[/* contents */(function () {
            return /* () */0;
          })];
      sink(/* Start */Block.__(0, [(function (signal) {
                  if (signal) {
                    return teardown[0]();
                  } else {
                    return /* () */0;
                  }
                })]));
      teardown[0] = f(/* record */[
            /* next */(function (value) {
                return sink(/* Push */Block.__(1, [value]));
              }),
            /* complete */(function (param) {
                return sink(/* End */0);
              })
          ]);
      return /* () */0;
    });
}

exports.make = make;
/* No side effect */
