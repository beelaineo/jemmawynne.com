!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("slate"),require("react"),require("immutable"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","slate","react","immutable","react-dom"],t):t(e.SlateReact={},e.Slate,e.React,e.Immutable,e.ReactDOM)}(this,function(e,t,n,r,o){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var a="default"in r?r.default:r;o=o&&o.hasOwnProperty("default")?o.default:o;var i="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function s(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}var u=s,c=l;function d(e){if(u===setTimeout)return setTimeout(e,0);if((u===s||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}"function"==typeof i.setTimeout&&(u=setTimeout),"function"==typeof i.clearTimeout&&(c=clearTimeout);var f,p=[],v=!1,h=-1;function y(){v&&f&&(v=!1,f.length?p=f.concat(p):h=-1,p.length&&m())}function m(){if(!v){var e=d(y);v=!0;for(var t=p.length;t;){for(f=p,p=[];++h<t;)f&&f[h].run();h=-1,t=p.length}f=null,v=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===l||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)};function b(){}var k=b,w=b,C=b,O=b,E=b,x=b,S=b;var T=i.performance||{},F=T.now||T.mozNow||T.msNow||T.oNow||T.webkitNow||function(){return(new Date).getTime()};var D=new Date;var N={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new g(e,t)),1!==p.length||v||d(m)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:k,addListener:w,once:C,off:O,removeListener:E,removeAllListeners:x,emit:S,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*F.call(T),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-D)/1e3}},A="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _(e,t){return e(t={exports:{}},t.exports),t.exports}var R=1e3,I=60*R,B=60*I,j=24*B,M=365.25*j,P=function(e,t){t=t||{};var n,r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*M;case"days":case"day":case"d":return n*j;case"hours":case"hour":case"hrs":case"hr":case"h":return n*B;case"minutes":case"minute":case"mins":case"min":case"m":return n*I;case"seconds":case"second":case"secs":case"sec":case"s":return n*R;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===r&&!1===isNaN(e))return t.long?L(n=e,j,"day")||L(n,B,"hour")||L(n,I,"minute")||L(n,R,"second")||n+" ms":function(e){if(e>=j)return Math.round(e/j)+"d";if(e>=B)return Math.round(e/B)+"h";if(e>=I)return Math.round(e/I)+"m";if(e>=R)return Math.round(e/R)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function L(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var q=_(function(e,t){function n(e){var n;function o(){if(o.enabled){var e=o,r=+new Date,a=r-(n||r);e.diff=a,e.prev=n,e.curr=r,n=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;l++;var o=t.formatters[r];if("function"==typeof o){var a=i[l];n=o.call(e,a),i.splice(l,1),l--}return n}),t.formatArgs.call(e,i),(o.log||t.log||console.log.bind(console)).apply(e,i)}}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),o.destroy=r,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=P,t.instances=[],t.names=[],t.skips=[],t.formatters={}}),z=(q.coerce,q.disable,q.enable,q.enabled,q.humanize,q.instances,q.names,q.skips,q.formatters,_(function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==N&&"env"in N&&(e=N.env.DEBUG),e}(t=e.exports=q).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(a=++o)}),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}));z.log,z.formatArgs,z.save,z.load,z.useColors,z.storage,z.colors;function V(e,t){function n(n,r,o,a,i){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+i+" `"+o+"` is marked as required in `"+a+"`, but it was not supplied."):t(s)?null:new Error("Invalid "+i+" `"+o+"` supplied to `"+a+"`, expected a Slate `"+e+"` but received: "+s):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!0].concat(t))},r}var W={block:V("Block",function(e){return t.Block.isBlock(e)}),blocks:V("List<Block>",function(e){return t.Block.isBlockList(e)}),change:V("Change",function(e){return t.Change.isChange(e)}),data:V("Data",function(e){return t.Data.isData(e)}),document:V("Document",function(e){return t.Document.isDocument(e)}),inline:V("Inline",function(e){return t.Inline.isInline(e)}),inlines:V("Inline",function(e){return t.Inline.isInlineList(e)}),leaf:V("Leaf",function(e){return t.Leaf.isLeaf(e)}),leaves:V("List<Leaf>",function(e){return t.Leaf.isLeafList(e)}),mark:V("Mark",function(e){return t.Mark.isMark(e)}),marks:V("Set<Mark>",function(e){return t.Mark.isMarkSet(e)}),node:V("Node",function(e){return t.Node.isNode(e)}),nodes:V("List<Node>",function(e){return t.Node.isNodeList(e)}),range:V("Range",function(e){return t.Range.isRange(e)}),ranges:V("List<Range>",function(e){return t.Range.isRangeList(e)}),value:V("Value",function(e){return t.Value.isValue(e)}),text:V("Text",function(e){return t.Text.isText(e)}),texts:V("List<Text>",function(e){return t.Text.isTextList(e)})};function U(e){return function(){return e}}var K=function(){};K.thatReturns=U,K.thatReturnsFalse=U(!1),K.thatReturnsTrue=U(!0),K.thatReturnsNull=U(null),K.thatReturnsThis=function(){return this},K.thatReturnsArgument=function(e){return e};var $=K;var H=function(e,t,n,r,o,a,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,a,i,s],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},J=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign;var G="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q=_(function(e){e.exports=function(){function e(e,t,n,r,o,a){a!==G&&H(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=$,n.PropTypes=n,n}()}),Z=function(e,t){if(!e)throw new Error("Invariant failed")},ee=function(e,t){return e===t};var te=function(e,t){0},ne=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"],re=function(e,t){if(!e)throw new Error("Invariant failed: "+(t||""))},oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},ie=0;var se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le="object"===("undefined"==typeof window?"undefined":se(window))&&"object"===("undefined"==typeof document?"undefined":se(document))&&9===document.nodeType,ue=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ce=void 0;if(le){var de=!0,fe=!1,pe=void 0;try{for(var ve,he=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(de=(ve=he.next()).done);de=!0){var ye=ve.value,me=ue(ye,2),ge=me[0];if(me[1].test(window.navigator.userAgent)){ce=ge;break}}}catch(e){fe=!0,pe=e}finally{try{!de&&he.return&&he.return()}finally{if(fe)throw pe}}}var be=void 0;if(le){var ke=!0,we=!1,Ce=void 0;try{for(var Oe,Ee=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(ke=(Oe=Ee.next()).done);ke=!0){var xe=Oe.value,Se=ue(xe,2),Te=Se[0];if(Se[1].test(window.navigator.userAgent)){be=Te;break}}}catch(e){we=!0,Ce=e}finally{try{!ke&&Ee.return&&Ee.return()}finally{if(we)throw Ce}}}var Fe=[];if(le){var De=!0,Ne=!1,Ae=void 0;try{for(var _e,Re=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(De=(_e=Re.next()).done);De=!0){var Ie=_e.value,Be=ue(Ie,2),je=Be[0];(0,Be[1])(window)&&Fe.push(je)}}catch(e){Ne=!0,Ae=e}finally{try{!De&&Re.return&&Re.return()}finally{if(Ne)throw Ae}}}var Me=[[/^9([.]0|)/,28],[/^8[.]1/,27],[/^8([.]0|)/,26],[/^7[.]1/,25],[/^7([.]0|)/,24],[/^6([.]0|)/,23],[/^5[.]1/,22],[/^5([.]0|)/,21],[/^4[.]4/,20]];var Pe="firefox"===ce,Le="safari"===ce,qe="ie"===ce,ze="edge"===ce,Ve="android"===be,We="ios"===be,Ue="macos"===be,Ke=function(){if("android"!==be)return null;var e=window.navigator.userAgent.match(/Android\s([0-9\.]+)/);if(null==e)return null;var t=e[1],n=!0,r=!1,o=void 0;try{for(var a,i=Me[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=ue(s,2),u=l[0],c=l[1];if(t.match(u))return c}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return null}(),$e=(Fe.includes("inputeventslevel1"),Fe.includes("inputeventslevel2")||Ve&&(28===Ke||null===Ke)),He=function e(t){if(Xe(t))return t;if(Xe(t.ownerDocument))return t.ownerDocument;if(Xe(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)},Je=9;function Xe(e){return e&&e.nodeType===Je}var Ye=!1,Ge=function(e){if(t=e,t&&t.window===t)return e;var t;var n=He(e);if(Ye){n.parentWindow.execScript("document._parentWindow = window;","Javascript");var r=n._parentWindow;return n._parentWindow=null,r}return n.defaultView||n.parentWindow};var Qe=Array.isArray,Ze="object"==typeof A&&A&&A.Object===Object&&A,et="object"==typeof self&&self&&self.Object===Object&&self,tt=Ze||et||Function("return this")(),nt=tt.Symbol,rt=Object.prototype,ot=rt.hasOwnProperty,at=rt.toString,it=nt?nt.toStringTag:void 0;var st=function(e){var t=ot.call(e,it),n=e[it];try{e[it]=void 0;var r=!0}catch(e){}var o=at.call(e);return r&&(t?e[it]=n:delete e[it]),o},lt=Object.prototype.toString;var ut=function(e){return lt.call(e)},ct="[object Null]",dt="[object Undefined]",ft=nt?nt.toStringTag:void 0;var pt=function(e){return null==e?void 0===e?dt:ct:ft&&ft in Object(e)?st(e):ut(e)};var vt=function(e){return null!=e&&"object"==typeof e},ht="[object Symbol]";var yt=function(e){return"symbol"==typeof e||vt(e)&&pt(e)==ht},mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gt=/^\w*$/;var bt=function(e,t){if(Qe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!yt(e))||gt.test(e)||!mt.test(e)||null!=t&&e in Object(t)};var kt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},wt="[object AsyncFunction]",Ct="[object Function]",Ot="[object GeneratorFunction]",Et="[object Proxy]";var xt,St=function(e){if(!kt(e))return!1;var t=pt(e);return t==Ct||t==Ot||t==wt||t==Et},Tt=tt["__core-js_shared__"],Ft=(xt=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+xt:"";var Dt=function(e){return!!Ft&&Ft in e},Nt=Function.prototype.toString;var At=function(e){if(null!=e){try{return Nt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},_t=/^\[object .+?Constructor\]$/,Rt=Function.prototype,It=Object.prototype,Bt=Rt.toString,jt=It.hasOwnProperty,Mt=RegExp("^"+Bt.call(jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Pt=function(e){return!(!kt(e)||Dt(e))&&(St(e)?Mt:_t).test(At(e))};var Lt=function(e,t){return null==e?void 0:e[t]};var qt=function(e,t){var n=Lt(e,t);return Pt(n)?n:void 0},zt=qt(Object,"create");var Vt=function(){this.__data__=zt?zt(null):{},this.size=0};var Wt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ut="__lodash_hash_undefined__",Kt=Object.prototype.hasOwnProperty;var $t=function(e){var t=this.__data__;if(zt){var n=t[e];return n===Ut?void 0:n}return Kt.call(t,e)?t[e]:void 0},Ht=Object.prototype.hasOwnProperty;var Jt=function(e){var t=this.__data__;return zt?void 0!==t[e]:Ht.call(t,e)},Xt="__lodash_hash_undefined__";var Yt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zt&&void 0===t?Xt:t,this};function Gt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gt.prototype.clear=Vt,Gt.prototype.delete=Wt,Gt.prototype.get=$t,Gt.prototype.has=Jt,Gt.prototype.set=Yt;var Qt=Gt;var Zt=function(){this.__data__=[],this.size=0};var en=function(e,t){return e===t||e!=e&&t!=t};var tn=function(e,t){for(var n=e.length;n--;)if(en(e[n][0],t))return n;return-1},nn=Array.prototype.splice;var rn=function(e){var t=this.__data__,n=tn(t,e);return!(n<0||(n==t.length-1?t.pop():nn.call(t,n,1),--this.size,0))};var on=function(e){var t=this.__data__,n=tn(t,e);return n<0?void 0:t[n][1]};var an=function(e){return tn(this.__data__,e)>-1};var sn=function(e,t){var n=this.__data__,r=tn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ln.prototype.clear=Zt,ln.prototype.delete=rn,ln.prototype.get=on,ln.prototype.has=an,ln.prototype.set=sn;var un=ln,cn=qt(tt,"Map");var dn=function(){this.size=0,this.__data__={hash:new Qt,map:new(cn||un),string:new Qt}};var fn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var pn=function(e,t){var n=e.__data__;return fn(t)?n["string"==typeof t?"string":"hash"]:n.map};var vn=function(e){var t=pn(this,e).delete(e);return this.size-=t?1:0,t};var hn=function(e){return pn(this,e).get(e)};var yn=function(e){return pn(this,e).has(e)};var mn=function(e,t){var n=pn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gn.prototype.clear=dn,gn.prototype.delete=vn,gn.prototype.get=hn,gn.prototype.has=yn,gn.prototype.set=mn;var bn=gn,kn="Expected a function";function wn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(kn);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(wn.Cache||bn),n}wn.Cache=bn;var Cn=wn,On=500;var En=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xn=/\\(\\)?/g,Sn=function(e){var t=Cn(e,function(e){return n.size===On&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(En,function(e,n,r,o){t.push(r?o.replace(xn,"$1"):n||e)}),t});var Tn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Fn=1/0,Dn=nt?nt.prototype:void 0,Nn=Dn?Dn.toString:void 0;var An=function e(t){if("string"==typeof t)return t;if(Qe(t))return Tn(t,e)+"";if(yt(t))return Nn?Nn.call(t):"";var n=t+"";return"0"==n&&1/t==-Fn?"-0":n};var _n=function(e){return null==e?"":An(e)};var Rn=function(e,t){return Qe(e)?e:bt(e,t)?[e]:Sn(_n(e))},In=1/0;var Bn=function(e){if("string"==typeof e||yt(e))return e;var t=e+"";return"0"==t&&1/e==-In?"-0":t};var jn=function(e,t){for(var n=0,r=(t=Rn(t,e)).length;null!=e&&n<r;)e=e[Bn(t[n++])];return n&&n==r?e:void 0},Mn=function(){try{var e=qt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Pn=function(e,t,n){"__proto__"==t&&Mn?Mn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ln=Object.prototype.hasOwnProperty;var qn=function(e,t,n){var r=e[t];Ln.call(e,t)&&en(r,n)&&(void 0!==n||t in e)||Pn(e,t,n)},zn=9007199254740991,Vn=/^(?:0|[1-9]\d*)$/;var Wn=function(e,t){var n=typeof e;return!!(t=null==t?zn:t)&&("number"==n||"symbol"!=n&&Vn.test(e))&&e>-1&&e%1==0&&e<t};var Un=function(e,t,n,r){if(!kt(e))return e;for(var o=-1,a=(t=Rn(t,e)).length,i=a-1,s=e;null!=s&&++o<a;){var l=Bn(t[o]),u=n;if(o!=i){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=kt(c)?c:Wn(t[o+1])?[]:{})}qn(s,l,u),s=s[l]}return e};var Kn=function(e,t,n){for(var r=-1,o=t.length,a={};++r<o;){var i=t[r],s=jn(e,i);n(s,i)&&Un(a,Rn(i,e),s)}return a};var $n=function(e,t){return null!=e&&t in Object(e)},Hn="[object Arguments]";var Jn=function(e){return vt(e)&&pt(e)==Hn},Xn=Object.prototype,Yn=Xn.hasOwnProperty,Gn=Xn.propertyIsEnumerable,Qn=Jn(function(){return arguments}())?Jn:function(e){return vt(e)&&Yn.call(e,"callee")&&!Gn.call(e,"callee")},Zn=9007199254740991;var er=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Zn};var tr=function(e,t,n){for(var r=-1,o=(t=Rn(t,e)).length,a=!1;++r<o;){var i=Bn(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&er(o)&&Wn(i,o)&&(Qe(e)||Qn(e))};var nr=function(e,t){return null!=e&&tr(e,t,$n)};var rr=function(e,t){return Kn(e,t,function(t,n){return nr(e,n)})};var or=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},ar=nt?nt.isConcatSpreadable:void 0;var ir=function(e){return Qe(e)||Qn(e)||!!(ar&&e&&e[ar])};var sr=function e(t,n,r,o,a){var i=-1,s=t.length;for(r||(r=ir),a||(a=[]);++i<s;){var l=t[i];n>0&&r(l)?n>1?e(l,n-1,r,o,a):or(a,l):o||(a[a.length]=l)}return a};var lr=function(e){return null!=e&&e.length?sr(e,1):[]};var ur=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},cr=Math.max;var dr=function(e,t,n){return t=cr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=cr(r.length-t,0),i=Array(a);++o<a;)i[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(i),ur(e,this,s)}};var fr=function(e){return function(){return e}};var pr=Mn?function(e,t){return Mn(e,"toString",{configurable:!0,enumerable:!1,value:fr(t),writable:!0})}:function(e){return e},vr=800,hr=16,yr=Date.now;var mr=function(e){var t=0,n=0;return function(){var r=yr(),o=hr-(r-n);if(n=r,o>0){if(++t>=vr)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(pr);var gr=function(e){return mr(dr(e,void 0,lr),e+"")}(function(e,t){return null==e?{}:rr(e,t)});var br=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wr=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Er=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},xr=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Sr=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Tr=/^([\w-]+)(?::(\d+))?$/;var Fr={parse:function(e){var t=Tr.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=xr(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}},Dr="data-slate-zero-width",Nr="["+Dr+"]",Ar="data-offset-key",_r="["+Ar+"]",Rr="[data-key]",Ir="[data-slate-void]";function Br(e,n,r){Z(!t.Value.isValue(r),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var o=function(e,t){if(1===e.nodeType&&e.childNodes.length){var n=t===e.childNodes.length,r=n?"backward":"forward",o=n?t-1:t;for(e=jr(e,o,r);1===e.nodeType&&e.childNodes.length;){var a=n?e.childNodes.length-1:0;e=jr(e,a,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,n),a=o.node,i=o.offset,s=Ge(e),l=a.parentNode,u=l.closest(_r),c=void 0,d=void 0;if(u){var f=s.document.createRange(),p=u.closest(Rr);f.setStart(p,0),f.setEnd(a,i),d=p,c=f.cloneContents().textContent.length}else{var v=l.closest(Ir);if(!v)return null;if(!(u=v.querySelector(_r)))return null;c=(d=u).textContent.length}c===d.textContent.length&&l.hasAttribute(Dr)&&c--;var h=u.getAttribute(Ar);if(!h)return null;var y=Fr.parse(h).key,m=r.value;return m.document.hasDescendant(y)?m.document.createPoint({key:y,offset:c}):null}function jr(e,t,n){for(var r=e.childNodes,o=r[t],a=t,i=!1,s=!1;(8===o.nodeType||1===o.nodeType&&0===o.childNodes.length||1===o.nodeType&&"false"===o.getAttribute("contenteditable"))&&(!i||!s);)a>=r.length?(i=!0,a=t-1,n="backward"):a<0?(s=!0,a=t+1,n="forward"):(o=r[a],"forward"===n&&a++,"backward"===n&&a--);return o||null}function Mr(e,n){Z(!t.Value.isValue(n),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var r=e.anchorNode||e.startContainer;if(!r)return null;var o=Ge(r);(e instanceof o.Range||o.StaticRange&&e instanceof o.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var a=e,i=a.anchorNode,s=a.anchorOffset,l=a.focusNode,u=a.focusOffset,c=a.isCollapsed,d=n.value,f=Br(i,s,n),p=c?f:Br(l,u,n);return f&&p?d.document.createRange({anchor:f,focus:p}):null}function Pr(e,t,n){var r=t.value,o=r.document;if(n.rangeCount){var a=Mr(n,t);if(a){var i=a,s=i.anchor,l=i.focus,u=o.getNode(s.key),c=o.getNode(l.key),d=o.getClosestInline(s.key),f=o.getClosestInline(l.key),p=o.getClosestBlock(l.key),v=o.getClosestBlock(s.key);if(v&&!t.isVoid(v)&&0===s.offset&&p&&t.isVoid(p)&&0!==l.offset&&(a=a.setFocus(l.setOffset(0))),d&&!t.isVoid(d)&&s.offset===u.text.length){var h=o.getClosestBlock(s.key).getNextText(s.key);h&&(a=a.moveAnchorTo(h.key,0))}if(f&&!t.isVoid(f)&&l.offset===c.text.length){var y=o.getClosestBlock(l.key).getNextText(l.key);y&&(a=a.moveFocusTo(y.key,0))}var m=o.createSelection(a);return m=(m=m.setIsFocused(!0)).set("marks",r.selection.marks)}}else t.blur()}function Lr(e,t,n){var r=Pr(0,t,n);t.select(r)}function qr(e,t,n){var r=Br(n,0,t);if(r){var o=t.value,a=o.document,i=o.selection,s=a.getDescendant(r.key),l=a.getClosestBlock(s.key),u=s.getLeaves(),c=l.getLastText(),d=u.last(),f=0,p=0,v=u.find(function(e){if(f=p,(p+=e.text.length)>r.offset)return!0})||d,h=v.text,y=n.textContent,m=s===c,g=v===d,b=y.charAt(y.length-1);if(m&&g&&"\n"===b&&(y=y.slice(0,-1)),y!==h){var k=i.moveAnchorTo(r.key,f).moveFocusTo(r.key,p);k=a.resolveRange(k),t.insertTextAtRange(k,y,v.marks)}}}function zr(e,t){return e.nodeType===t.Node.TEXT_NODE}function Vr(e,t){if(!e.length)throw new Error("elements must be an Array");var n=e[e.length-1];return{elements:e.map(function(e){return function e(t,n){var r={};return r.node=t,zr(t,n)&&(r.text=t.textContent),r.children=Array.from(t.childNodes).map(function(t){return e(t,n)}),r}(e,t)}),parent:n.parentElement,next:n.nextElementSibling}}function Wr(e,t){var n=e.elements,r=e.next,o=e.parent;n.forEach(function(e){return function e(t,n){var r=t.node;zr(r,n)&&r.textContent!==t.text&&(r.textContent=t.text),t.children.forEach(function(t){e(t,n),r.appendChild(t.node)});for(var o=t.children.length;r.childNodes.length>o;)r.removeChild(r.childNodes[0]);var a=r.dataset;if(a){var i=a.key;if(i){var s=new n.Set(Array.from(n.document.querySelectorAll("[data-key='"+i+"']")));s.delete(r),s.forEach(function(e){return e.parentElement.removeChild(e)})}}}(e,t)});var a=n[n.length-1].node;e.next?o.insertBefore(a,r):o.appendChild(a);for(var i=a,s=n.length-2;s>=0;s--){var l=n[s].node;o.insertBefore(l,i),i=l}}var Ur=function(){function e(t,n){br(this,e),this.window=Ge(t[0]),this.snapshot=Vr(t,this.window),this.data=n}return kr(e,[{key:"apply",value:function(){Wr(this.snapshot,this.window)}},{key:"getData",value:function(){return this.data}}]),e}();function Kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return e.nodeType===n.Node.TEXT_NODE&&(e=e.parentNode),e.closest(t)}var $r=function(){function e(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).before,o=void 0!==r&&r;br(this,e);var a=t.getSelection(),i=Kr(a.anchorNode,"[data-slate-editor] > *"),s=[i];if(o){var l=i.previousElementSibling;l&&s.unshift(l)}this.snapshot=new Ur(s),this.selection=Pr(0,n,a)}return kr(e,[{key:"apply",value:function(e){var t=this.snapshot,n=this.selection;t.apply(),e.moveTo(n.anchor.key,n.anchor.offset)}}]),e}();function Hr(){}var Jr=function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};br(this,e),this.__call__=function(){r.fn(),r.preventFurtherCalls()},this.preventFurtherCalls=function(){r.fn=Hr},this.resume=function(e){r.cancel(),e?(r.mode="timeout",r.timeoutId=r.window.setTimeout(r.__call__,e)):(r.mode="animationFrame",r.callbackId=r.window.requestAnimationFrame(r.__call__))},this.cancel=function(){"timeout"===r.mode?r.window.clearTimeout(r.timeoutId):r.window.cancelAnimationFrame(r.callbackId),r.onCancel&&r.onCancel()},this.__setTimeout__=function(e){null!=e&&r.window.setTimeout(function(){r.cancel(),r.preventFurtherCalls()},e)},this.fn=n,this.window=t,this.resume(),this.onCancel=o.onCancel,this.__setTimeout__(o.timeout)},Xr=z("slate:android");Xr.reconcile=z("slate:reconcile"),Xr("ANDROID_API_VERSION",{ANDROID_API_VERSION:Ke});var Yr=0,Gr=1;function Qr(){var e=Yr,t=new window.Set,n=null,r=null,o=null,a=null,i=!1,s=null;function l(e,n,r){var o=r.from;Xr.reconcile({from:o});var a=e.getSelection();t.forEach(function(e){qr(0,n,e)}),Lr(0,n,a),t.clear()}return{onBeforeInput:function(t,o,l){var u=!t.nativeEvent;Xr("onBeforeInput",{isNative:u,event:t,status:e,e:gr(t,["data","inputType","isComposing","nativeEvent"])});var c,d=Ge(t.target);if(i)return t.preventDefault(),void(i=!1);switch(Ke){case 25:break;case 26:case 27:if(a&&(a.cancel(),r.resume()),u){if("insertParagraph"===t.inputType||"insertLineBreak"===t.inputType){Xr("onBeforeInput:enter:native",{});var f=d.getSelection(),p=Pr(0,o,f);i=!0,t.preventDefault(),o.moveTo(p.anchor.key,p.anchor.offset),o.splitBlock()}}else{if(function(e,t){if(!Array.isArray(t))throw new Error("chars must be an array of one character strings");if(null==e)return!1;var n=e[e.length-1];return t.includes(n)}(t.data,["."]))return Xr("onBeforeInput:period"),r.cancel(),void(s="period");null!=(c=t.data)&&10===c[c.length-1].charCodeAt(0)&&(r&&r.cancel(),d.requestAnimationFrame(function(){Xr("onBeforeInput:enter:react",{}),n.apply(o),o.splitBlock()}))}break;case 28:a&&(a.cancel(),r.resume());break;default:e!==Gr&&l()}},onCompositionEnd:function(o,a,i){Xr("onCompositionEnd",{event:o});var u=Ge(o.target),c=u.getSelection().anchorNode;switch(Ke){case 26:case 27:n=new $r(u,a),e=Gr}s="reconcile",t.add(c),r=new Jr(u,function(){e=Yr,l(u,a,{from:"onCompositionEnd:reconciler"}),s=null})},onCompositionStart:function(n,r,o){Xr("onCompositionStart",{event:n}),e=Gr,t.clear()},onCompositionUpdate:function(e,t,n){Xr("onCompositionUpdate",{event:e})},onInput:function(n,i,u){switch(Xr("onInput",{event:n,status:e,e:gr(n,["data","nativeEvent","inputType","isComposing"])}),Ke){case 24:case 25:break;case 26:case 27:case 28:var c=n.nativeEvent;if(28===Ke&&"insertText"===c.inputType&&" "===c.data)return r&&r.cancel(),a&&a.cancel(),void l(window,i,{from:"onInput:space"});if((26===Ke||27===Ke)&&"period"===s){Xr("onInput:period:abort");var d=window.getSelection().anchorNode;return void t.add(d)}if("deleteContentBackward"===c.inputType){Xr("onInput:delete",{keyDownSnapshot:o});var f=Ge(n.target);return r&&r.cancel(),a&&a.cancel(),void(a=new Jr(f,function(){Xr("onInput:delete:callback",{keyDownSnapshot:o}),o.apply(i),i.deleteBackward(),a=null},{onCancel:function(){a=null}}))}if(e===Gr){var p=window.getSelection().anchorNode;return void t.add(p)}if(28===Ke){Xr("onInput:fallback");var v=window.getSelection().anchorNode;return t.add(v),void window.requestAnimationFrame(function(){Xr("onInput:fallback:callback"),l(window,i,{from:"onInput:fallback"})})}break;default:if(e===Gr)return;u()}},onKeyDown:function(t,i,s){Xr("onKeyDown",{event:t,status:e,e:gr(t,["char","charCode","code","key","keyCode","keyIdentifier","keyLocation","location","nativeEvent","which"])});var u=Ge(t.target);switch(Ke){case 25:"Enter"===t.key&&s();break;case 26:case 27:if("Enter"===t.key){if(Xr("onKeyDown:enter",{}),a)a.cancel(),t.preventDefault(),u.requestAnimationFrame(function(){Xr("onKeyDown:enter:callback"),n.apply(i),i.splitBlock()});else{t.preventDefault();var c=u.getSelection(),d=Pr(0,i,c);i.moveTo(d.anchor.key,d.anchor.offset),i.splitBlock()}return}o=new $r(u,i,{before:!0});break;case 28:if("Enter"===t.key)return Xr("onKeyDown:enter"),t.preventDefault(),r&&r.cancel(),a&&a.cancel(),void u.requestAnimationFrame(function(){l(u,i,{from:"onKeyDown:enter"}),i.splitBlock()});o=new $r(u,i,{before:!0}),Xr("onKeyDown:snapshot",{keyDownSnapshot:o});break;default:e!==Gr&&s()}},onSelect:function(t,n,r){switch(Xr("onSelect",{event:t,status:e}),Ke){case 26:case 27:case 28:!function(e){var t=e.getSelection(),n=t.anchorNode,r=n.parentElement.dataset;if(r&&"n"===r.slateZeroWidth&&1===n.textContent.length&&0!==t.anchorOffset){var o=e.document.createRange();o.setStart(n,0),o.setEnd(n,0),t.removeAllRanges(),t.addRange(o)}}(Ge(t.target))}}}}var Zr=self.atob.bind(self),eo=self.btoa.bind(self);function to(e){var t=JSON.stringify(e);return eo(encodeURIComponent(t))}function no(e){var t=decodeURIComponent(Zr(e));return JSON.parse(t)}var ro,oo={deserialize:function(e,n){var r=no(e);return t.Value.fromJSON(r,n)},deserializeNode:function(e,n){var r=no(e);return t.Node.fromJSON(r,n)},serialize:function(e,t){return to(e.toJSON(t))},serializeNode:function(e,t){return to(e.toJSON(t))}},ao=_(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},r={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)o["f"+a]=111+a;function i(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return s(e,t)}),o=function(e){return r.some(function(t){return l(t,e)})};return null==n?o:o(n)}function s(e,t){var r=t&&t.byKey,o={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var s in n)o[n[s]]=!1;var l=!0,d=!1,f=void 0;try{for(var p,v=a[Symbol.iterator]();!(l=(p=v.next()).done);l=!0){var h=p.value,y=h.endsWith("?");y&&(h=h.slice(0,-1));var m=c(h),g=n[m];1!==i&&g||(r?o.key=m:o.which=u(h)),g&&(o[g]=!y||null)}}catch(e){d=!0,f=e}finally{try{!l&&v.return&&v.return()}finally{if(d)throw f}}return o}function l(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function u(e){return e=c(e),o[e]||e.toUpperCase().charCodeAt(0)}function c(e){return e=e.toLowerCase(),e=r[e]||e}t.default=i,t.isHotkey=i,t.isCodeHotkey=function(e,t){return i(e,t)},t.isKeyHotkey=function(e,t){return i(e,{byKey:!0},t)},t.parseHotkey=s,t.compareHotkey=l,t.toKeyCode=u,t.toKeyName=c});(ro=ao)&&ro.__esModule&&Object.prototype.hasOwnProperty.call(ro,"default")&&ro.default;ao.isHotkey,ao.isCodeHotkey;var io=ao.isKeyHotkey,so=(ao.parseHotkey,ao.compareHotkey,ao.toKeyCode,ao.toKeyName,{bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"}),lo={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},uo={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},co={},fo=We||Ue,po=!fo;[].concat(Object.keys(so)).concat(Object.keys(lo)).concat(Object.keys(uo)).forEach(function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!co[t]){var n=so[e],r=lo[e],o=uo[e],a=n&&io(n),i=r&&io(r),s=o&&io(o);co[t]=function(e){return!(!a||!a(e))||(!!(fo&&i&&i(e))||!!(po&&s&&s(e)))}}});var vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ho(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delimiter,r=void 0===n?"\n":n;return"document"===e.object||"block"===e.object&&t.Block.isBlockList(e.nodes)?e.nodes.map(ho).join(r):e.text}var yo={deserialize:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.defaultBlock,a=void 0===o?"line":o,i=n.defaultMarks,s=void 0===i?[]:i,l=n.delimiter,u=void 0===l?"\n":l,c=n.toJSON,d=void 0!==c&&c;r.Set.isSet(s)&&(s=s.toArray()),a=t.Node.createProperties(a),s=s.map(t.Mark.createProperties);var f={object:"value",document:{object:"document",data:{},nodes:e.split(u).map(function(e){return vo({},a,{object:"block",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:e,marks:s}]}]})})}};return d?f:t.Value.fromJSON(f)},serialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ho(e.document,t)}},mo={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function go(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.Node.isNode(e)&&(e=e.key);var r=n.document.querySelector('[data-key="'+e+'"]');if(!r)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return r}function bo(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse(),n.select()}else e.removeAllRanges()}var ko=mo.FRAGMENT,wo=mo.HTML,Co=mo.TEXT;function Oo(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Z(!t.Value.isValue(n),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var o=Ge(e.target),a=o.getSelection(),i=n.value,s=i.document,l=i.fragment,u=i.selection,c=u.start,d=u.end,f=s.getClosestVoid(c.key,n),p=s.getClosestVoid(d.key,n);if(!a.isCollapsed||f){var v=oo.serializeNode(l),h=a.getRangeAt(0),y=h.cloneContents(),m=y.childNodes[0];if(y.childNodes.forEach(function(e){e.textContent&&""!==e.textContent.trim()&&(m=e)}),p){var g=h.cloneRange(),b=go(p,o);g.setEndAfter(b),y=g.cloneContents()}if(f&&(m=y.childNodes[0].childNodes[1].firstChild),[].slice.call(y.querySelectorAll(Nr)).forEach(function(e){var t="n"===e.getAttribute(Dr);e.textContent=t?"\n":""}),3===m.nodeType){var k=o.document.createElement("span");k.style.whiteSpace="pre",k.appendChild(m),y.appendChild(k),m=k}m.setAttribute("data-slate-fragment",v);var w=t.Value.create({document:l}),C=yo.serialize(w),O=o.document.createElement("div");if(O.appendChild(y),e.clipboardData&&e.clipboardData.setData&&!qe)return e.preventDefault(),e.clipboardData.setData(Co,C),e.clipboardData.setData(ko,v),e.clipboardData.setData(wo,O.innerHTML),void r();var E=e.target.closest("[data-slate-editor]");O.setAttribute("contenteditable",!0),O.style.position="absolute",O.style.left="-9999px",E.appendChild(O),a.selectAllChildren(O),o.requestAnimationFrame(function(){E.removeChild(O),bo(a),a.addRange(h),r()})}}function Eo(e,n){Z(!t.Value.isValue(n),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var r=e.closest("[data-key]");if(!r)return null;var o=r.getAttribute("data-key");return o&&n.value.document.getNode(o)||null}function xo(e,n){Z(!t.Value.isValue(n),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var r=e,o=r.clientX,a=r.clientY,i=r.target;if(null==o||null==a)return null;var s=n.value.document,l=Eo(i,n);if(!l)return null;if(n.query("isVoid",l)){var u=i.getBoundingClientRect(),c="inline"===l.object?o-u.left<u.left+u.width-o:a-u.top<u.top+u.height-a,d=l.getFirstText(),f=s.createRange();if(c){var p=s.getPreviousText(d.key);if(p)return f.moveToEndOfNode(p)}var v=s.getNextText(d.key);return v?f.moveToStartOfNode(v):null}var h=Ge(i),y=void 0;if(h.document.caretRangeFromPoint)y=h.document.caretRangeFromPoint(o,a);else if(h.document.caretPositionFromPoint){var m=h.document.caretPositionFromPoint(o,a);(y=h.document.createRange()).setStart(m.offsetNode,m.offset),y.setEnd(m.offsetNode,m.offset)}else if(h.document.body.createTextRange){y=h.document.body.createTextRange();try{y.moveToPoint(o,a)}catch(e){return null}}var g=Mr(y,n);return g||null}var So=mo.FRAGMENT,To=mo.HTML,Fo=mo.NODE,Do=mo.RICH,No=mo.TEXT,Ao=/ data-slate-fragment="([^\s"]+)"/;function _o(e){!qe&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=Ro(t,So),r=Ro(t,Fo),o=Ro(t,To),a=Ro(t,Do),i=Ro(t,No),s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var l=Ao.exec(o),u=xr(l,2),c=(u[0],u[1]);c&&(n=c)}if(i){var d=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!==t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(e){throw new Error("Unable to parse custom Slate drag event data.")}}(i);d[So]&&(n=d[So]),d[Fo]&&(r=d[Fo]),d[No]&&(i=d[No])}n&&(n=oo.deserializeNode(n)),r&&(r=oo.deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map(function(e){return"file"===e.kind?e.getAsFile():null}).filter(function(e){return e}):t.files&&t.files.length&&(s=Array.from(t.files))}catch(e){t.files&&t.files.length&&(s=Array.from(t.files))}var f={files:s,fragment:n,html:o,node:r,rich:a,text:i};return f.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(f),f}function Ro(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t===No&&e.getData("Text")||null}var Io=mo.TEXT;function Bo(e,t,n){var r=mo[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(e){var a="SLATE-DATA-EMBED::",i=o.getData(Io),s={};if(i.substring(0,a.length)===a)try{s=JSON.parse(i.substring(a.length))}catch(e){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[Io]=i;s[r]=n;var l=""+a+JSON.stringify(s);o.setData(Io,l)}}var jo=z("slate:after");var Mo=z("slate:before");function Po(){var e,t,n,r,a,i,s,l=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,u=void 0===l?[]:l,c=Ve?[Qr()]:[],d=(e=null,t=0,n=!1,r=!1,a=!1,{onBeforeInput:function(e,t,n){var r=!!e.nativeEvent;t.readOnly||r&&$e||(Mo("onBeforeInput",{event:e}),n())},onBlur:function(t,n,a){if(!r&&!n.readOnly){var i=t.relatedTarget,s=t.target,l=Ge(s);if(e!==l.document.activeElement){if(i){var u=o.findDOMNode(n);if(i===u)return;if(i.hasAttribute("data-slate-spacer"))return;var c=Eo(i,n);if(u.contains(i)&&c&&!n.isVoid(c))return}Mo("onBlur",{event:t}),a()}}},onClick:function(e,t,n){Mo("onClick",{event:e}),n()},onCompositionEnd:function(e,r,o){var a=t;window.requestAnimationFrame(function(){t>a||(n=!1)}),Mo("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++,r.value.selection.isCollapsed||r.delete(),Mo("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var o=Ge(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Mo("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.readOnly){var o=Ge(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Mo("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){a=!1,Mo("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){Mo("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){Mo("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){Mo("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=Eo(e.target,t);t.isVoid(r)&&e.preventDefault(),qe&&e.preventDefault(),a||(a=!0,qe||(e.nativeEvent.dataTransfer.dropEffect="move")),Mo("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){a=!0,Mo("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.readOnly||(e.preventDefault(),Mo("onDrop",{event:e}),n())},onFocus:function(t,n,a){if(!r&&!n.readOnly){var i=o.findDOMNode(n),s=Ge(t.target);e=s.document.activeElement,Pe&&t.target!==i?i.focus():(Mo("onFocus",{event:t}),a())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(Mo("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.readOnly||(n?co.isCompose(e)&&e.preventDefault():(!We&&(co.isBold(e)||co.isDeleteBackward(e)||co.isDeleteForward(e)||co.isDeleteLineBackward(e)||co.isDeleteLineForward(e)||co.isDeleteWordBackward(e)||co.isDeleteWordForward(e)||co.isItalic(e)||co.isRedo(e)||co.isSplitBlock(e)||co.isTransposeCharacter(e)||co.isUndo(e))&&e.preventDefault(),Mo("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.readOnly||(e.preventDefault(),Mo("onPaste",{event:e}),n())},onSelect:function(t,o,a){if(!r&&!n&&!o.readOnly){var i=Ge(t.target);e=i.document.activeElement,Mo("onSelect",{event:t}),a()}}}),f=(i=null,s=!1,{onBeforeInput:function(e,t,n){var r=t.value;if(e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),a=xr(o,1)[0];if(!a)return n();jo("onBeforeInput",{event:e}),e.preventDefault();var i=r.document,s=r.selection,l=Mr(a,t);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(l);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(l);break;case"deleteWordForward":t.deleteWordForwardAtRange(l);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(l);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(l);break;case"insertLineBreak":case"insertParagraph":i.hasVoidParent(s.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(l);break;case"insertFromYank":case"insertReplacementText":case"insertText":var u=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==u)break;t.insertTextAtRange(l,u,s.marks),s.marks&&r.document!==t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){jo("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=Eo(e.target,t);if(!o)return n();jo("onClick",{event:e});var a=r.getAncestors(o.key);o&&(t.isVoid(o)||a.some(function(e){return t.isVoid(e)}))&&t.focus().moveToEndOfNode(o),n()},onCopy:function(e,t,n){jo("onCopy",{event:e}),Oo(e,t),n()},onCut:function(e,t,n){jo("onCut",{event:e}),Oo(e,t,function(){var e=t.value,n=e.endBlock,r=e.endInline,o=e.selection.isCollapsed,a=n&&t.isVoid(n)&&o,i=r&&t.isVoid(r)&&o;a?t.removeNodeByKey(n.key):i?t.removeNodeByKey(r.key):t.delete()}),n()},onDragEnd:function(e,t,n){jo("onDragEnd",{event:e}),i=null,n()},onDragStart:function(e,t,n){jo("onDragStart",{event:e}),i=!0;var r=t.value,o=r.document,a=Eo(e.target,t),s=o.getAncestors(a.key),l=a&&(t.isVoid(a)||s.some(function(e){return t.isVoid(e)})),u=r.blocks.some(function(e){return e.key===a.key});l&&!u&&t.moveToRangeOfNode(a);var c=t.value.fragment;Bo(e,"fragment",oo.serializeNode(c)),n()},onDrop:function(e,t,n){var r=t.value,o=r.document,a=r.selection,s=Ge(e.target),l=xo(e,t);if(!l)return n();jo("onDrop",{event:e});var u=_o(e),c=u.type,d=u.fragment,f=u.text;if(t.focus(),i&&a.end.key===l.end.key&&a.end.offset<l.end.offset&&(l=l.moveForward(a.start.key===a.end.key?0-a.end.offset+a.start.offset:0-a.end.offset)),i&&t.delete(),t.select(l),"text"===c||"html"===c){var p=l.anchor,v=o.hasVoidParent(p.key,t);if(v){for(var h=o.getNode(p.key);v&&(h=o.getNextText(h.key));)v=o.hasVoidParent(h.key,t);h&&t.moveToStartOfNode(h)}f&&f.split("\n").forEach(function(e,n){n>0&&t.splitBlock(),t.insertText(e)})}"fragment"===c&&t.insertFragment(d);var y=go(o.getNode(l.focus.key),s);y&&y.dispatchEvent(new MouseEvent("mouseup",{view:s,bubbles:!0,cancelable:!0})),n()},onFocus:function(e,t,n){jo("onFocus",{event:e}),!s||qe||ze?t.focus():t.deselect().focus(),n()},onInput:function(e,t,n){jo("onInput");var r=Ge(e.target),o=r.getSelection();qr(0,t,o.anchorNode),Lr(0,t,o),n()},onKeyDown:function(e,t,n){jo("onKeyDown",{event:e});var r=t.value,o=r.document,a=r.selection,i=o.hasVoidParent(a.start.path,t);if(co.isSplitBlock(e)&&!We)return i?t.moveToStartOfNextText():t.splitBlock();if(co.isDeleteBackward(e)&&!We)return t.deleteCharBackward();if(co.isDeleteForward(e)&&!We)return t.deleteCharForward();if(co.isDeleteLineBackward(e))return t.deleteLineBackward();if(co.isDeleteLineForward(e))return t.deleteLineForward();if(co.isDeleteWordBackward(e))return t.deleteWordBackward();if(co.isDeleteWordForward(e))return t.deleteWordForward();if(co.isRedo(e))return t.redo();if(co.isUndo(e))return t.undo();if(co.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(co.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(co.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(co.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(co.isMoveBackward(e))return e.preventDefault(),a.isCollapsed?t.moveBackward():t.moveToStart();if(co.isMoveForward(e))return e.preventDefault(),a.isCollapsed?t.moveForward():t.moveToEnd();if(co.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(co.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(co.isExtendBackward(e)){var s=r.previousText,l=r.startText,u=s&&o.hasVoidParent(s.key,t);if(i||u||""===l.text)return e.preventDefault(),t.moveFocusBackward()}if(co.isExtendForward(e)){var c=r.nextText,d=r.startText,f=c&&o.hasVoidParent(c.key,t);if(i||f||""===d.text)return e.preventDefault(),t.moveFocusForward()}n()},onMouseDown:function(e,t,n){jo("onMouseDown",{event:e}),s=!0,n()},onMouseUp:function(e,t,n){jo("onMouseUp",{event:e}),s=!1,n()},onPaste:function(e,t,n){jo("onPaste",{event:e});var r=t.value,o=_o(e),a=o.type,i=o.fragment,s=o.text;if("fragment"===a&&t.insertFragment(i),"text"===a||"html"===a){if(!s)return n();var l=r.document,u=r.selection,c=r.startBlock;if(t.isVoid(c))return n();var d=c,f=l.getInsertMarksAtRange(u),p=yo.deserialize(s,{defaultBlock:d,defaultMarks:f}).document;t.insertFragment(p)}n()},onSelect:function(e,t,n){jo("onSelect",{event:e});var r=Ge(e.target);Lr(0,t,r.getSelection()),s=!1,n()}});return[].concat(c,[d],Sr(u),[f])}var Lo=function(){return tt.Date.now()},qo=NaN,zo=/^\s+|\s+$/g,Vo=/^[-+]0x[0-9a-f]+$/i,Wo=/^0b[01]+$/i,Uo=/^0o[0-7]+$/i,Ko=parseInt;var $o=function(e){if("number"==typeof e)return e;if(yt(e))return qo;if(kt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=kt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(zo,"");var n=Wo.test(e);return n||Uo.test(e)?Ko(e.slice(2),n?2:8):Vo.test(e)?qo:+e},Ho="Expected a function",Jo=Math.max,Xo=Math.min;var Yo=function(e,t,n){var r,o,a,i,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(Ho);function p(t){var n=r,a=o;return r=o=void 0,u=t,i=e.apply(a,n)}function v(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function h(){var e=Lo();if(v(e))return y(e);s=setTimeout(h,function(e){var n=t-(e-l);return d?Xo(n,a-(e-u)):n}(e))}function y(e){return s=void 0,f&&r?p(e):(r=o=void 0,i)}function m(){var e=Lo(),n=v(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(h,t),c?p(e):i}(l);if(d)return s=setTimeout(h,t),p(l)}return void 0===s&&(s=setTimeout(h,t)),i}return t=$o(t)||0,kt(n)&&(c=!!n.leading,a=(d="maxWait"in n)?Jo($o(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},m.flush=function(){return void 0===s?i:y(Lo())},m},Go="Expected a function";var Qo=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(Go);return kt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Yo(e,t,{leading:r,maxWait:t,trailing:o})},Zo="<<anonymous>>";function ea(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof a.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function ta(e){function t(t,n,r,o,a,i){for(var s=arguments.length,l=Array(s>6?s-6:0),u=6;u<s;u++)l[u-6]=arguments[u];return i=i||r,o=o||Zo,null!=n[r]?e.apply(void 0,[n,r,o,a,i].concat(l)):t?new Error("Required "+a+" `"+i+"` was not specified in `"+o+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function na(e,t){return ta(function(n,r,o,a,i){var s=n[r];if(!t(s)){var l=ea(s);return new Error("Invalid "+a+" `"+i+"` of type `"+l+"` supplied to `"+o+"`, expected `"+e+"`.")}return null})}function ra(e,t,n){return ta(function(r,o,a,i,s){for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];var d=r[o];if(!n(d)){var f=i,p=ea(d);return new Error("Invalid "+f+" `"+s+"` of type `"+p+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+a+"` for propType `"+s+"`, expected a function.");for(var v=d.toArray(),h=0,y=v.length;h<y;h++){var m=e.apply(void 0,[v,h,a,i,s+"["+h+"]"].concat(u));if(m instanceof Error)return m}})}function oa(e,t,n,r){return ta(function(){for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return ra(e,n,r).apply(void 0,a)||t&&(s=t,ta(function(e,t,n,r,o){for(var a=arguments.length,i=Array(a>5?a-5:0),l=5;l<a;l++)i[l-5]=arguments[l];var u=e[t];if("function"!=typeof s)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+o+"`, expected a function.");for(var c=u.keySeq().toArray(),d=0,f=c.length;d<f;d++){var p=s.apply(void 0,[c,d,n,r,o+" -> key("+c[d]+")"].concat(i));if(p instanceof Error)return p}})).apply(void 0,a);var s})}function aa(e){var t=void 0===arguments[1]?"Iterable":arguments[1],n=void 0===arguments[2]?a.Iterable.isIterable:arguments[2];return ta(function(r,o,a,i,s){for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];var d=r[o];if(!n(d)){var f=ea(d);return new Error("Invalid "+i+" `"+s+"` of type `"+f+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}var p=d.toObject();for(var v in e){var h=e[v];if(h){var y=h.apply(void 0,[p,v,a,i,s+"."+v].concat(u));if(y)return y}}})}function ia(e){return aa(e)}var sa={listOf:function(e){return ra(e,"List",a.List.isList)},mapOf:function(e,t){return oa(e,t,"Map",a.Map.isMap)},orderedMapOf:function(e,t){return oa(e,t,"OrderedMap",a.OrderedMap.isOrderedMap)},setOf:function(e){return ra(e,"Set",a.Set.isSet)},orderedSetOf:function(e){return ra(e,"OrderedSet",a.OrderedSet.isOrderedSet)},stackOf:function(e){return ra(e,"Stack",a.Stack.isStack)},iterableOf:function(e){return ra(e,"Iterable",a.Iterable.isIterable)},recordOf:function(e){return ta(function(t,n,r,o,i){for(var s=arguments.length,l=Array(s>5?s-5:0),u=5;u<s;u++)l[u-5]=arguments[u];var c=t[n];if(!(c instanceof a.Record)){var d=ea(c),f=o;return new Error("Invalid "+f+" `"+i+"` of type `"+d+"` supplied to `"+r+"`, expected an Immutable.js Record.")}for(var p in e){var v=e[p];if(v){var h=c.toObject(),y=v.apply(void 0,[h,p,r,o,i+"."+p].concat(l));if(y)return y}}})},shape:ia,contains:ia,mapContains:function(e){return aa(e,"Map",a.Map.isMap)},list:na("List",a.List.isList),map:na("Map",a.Map.isMap),orderedMap:na("OrderedMap",a.OrderedMap.isOrderedMap),set:na("Set",a.Set.isSet),orderedSet:na("OrderedSet",a.OrderedSet.isOrderedSet),stack:na("Stack",a.Stack.isStack),seq:na("Seq",a.Seq.isSeq),record:na("Record",function(e){return e instanceof a.Record}),iterable:na("Iterable",a.Iterable.isIterable)},la=z("slate:leaves"),ua=function(e){function t(){var e,n,r;br(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Er(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),ca.call(r),Er(r,n)}return Or(t,e),kr(t,[{key:"shouldComponentUpdate",value:function(e){return e.index!==this.props.index||e.marks!==this.props.marks||e.text!==this.props.text||e.parent!==this.props.parent}},{key:"render",value:function(){this.debug("render",this);var e=this.props,t=e.node,r=e.index,o=Fr.stringify({key:t.key,index:r});return n.createElement("span",{"data-slate-leaf":!0,"data-offset-key":o},this.renderMarks())}},{key:"renderMarks",value:function(){var e=this.props,t=e.marks,n=e.node,r=e.offset,o=e.text,a=e.editor,i=this.renderText(),s={"data-slate-mark":!0};return t.reduce(function(e,i){var l={editor:a,mark:i,marks:t,node:n,offset:r,text:o,children:e,attributes:s};return a.run("renderMark",l)||e},i)}},{key:"renderText",value:function(){var e=this.props,t=e.block,r=e.node,o=e.editor,a=e.parent,i=e.text,s=e.index,l=e.leaves;if(o.query("isVoid",a))return n.createElement("span",{"data-slate-zero-width":"z","data-slate-length":a.text.length},"\ufeff");if(""===i&&"block"===a.object&&""===a.text&&a.nodes.last()===r)return n.createElement("span",{"data-slate-zero-width":"n","data-slate-length":0},"\ufeff",n.createElement("br",null));if(""===i)return n.createElement("span",{"data-slate-zero-width":"z","data-slate-length":0},"\ufeff");var u=t.getLastText(),c=i.charAt(i.length-1),d=r===u,f=s===l.size-1;return d&&f&&"\n"===c?n.createElement("span",{"data-slate-content":!0},i+"\n"):n.createElement("span",{"data-slate-content":!0},i)}}]),t}(n.Component);ua.propTypes={block:W.block.isRequired,editor:Q.object.isRequired,index:Q.number.isRequired,leaves:W.leaves.isRequired,marks:W.marks.isRequired,node:W.node.isRequired,offset:Q.number.isRequired,parent:W.node.isRequired,text:Q.string.isRequired};var ca=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];la.apply(void 0,[t,e.props.node.key+"-"+e.props.index].concat(r))}},da=z("slate:node"),fa=function(e){function r(){var e,t,n;br(this,r);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=n=Er(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),pa.call(n),Er(n,t)}return Or(r,e),kr(r,[{key:"render",value:function(){var e=this;this.debug("render",this);var r=this.props,o=r.decorations,a=r.editor,i=r.node,s=r.style,l=a.value.document,u=i.key,c=o.filter(function(e){var n=e.start,r=e.end;if(n.key===u||r.key===u)return!0;if(n.key===r.key)return!1;var o=l.assertPath(u),a=n.path||l.assertPath(n.key),i=r.path||l.assertPath(r.key);return-1!==t.PathUtils.compare(o,a)&&1!==t.PathUtils.compare(o,i)}),d=0===c.size?i.getLeaves():i.getLeaves(c),f=0,p=d.map(function(t,n){var r=e.renderLeaf(d,t,n,f);return f+=t.text.length,r});return n.createElement("span",{"data-key":u,style:s},p)}}]),r}(n.Component);fa.propTypes={block:W.block,decorations:sa.list.isRequired,editor:Q.object.isRequired,node:W.node.isRequired,parent:W.node.isRequired,style:Q.object},fa.defaultProps={style:null};var pa=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node.key;da.apply(void 0,[t,a+" (text)"].concat(r))},this.shouldComponentUpdate=function(t){var n=t,r=e.props;if(n.node!==r.node)return!0;if("block"===n.parent.object){var o=r.parent.nodes.last(),a=n.parent.nodes.last();if(r.node===o&&n.node!==a)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(t,r,o,a){var i=e.props,s=i.block,l=i.node,u=i.parent,c=i.editor,d=r.text,f=r.marks;return n.createElement(ua,{key:l.key+"-"+o,block:s,editor:c,index:o,marks:f,node:l,offset:a,parent:u,leaves:t,text:d})}},va=z("slate:void"),ha=function(e){function t(){var e,n,r;br(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Er(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),ya.call(r),Er(r,n)}return Or(t,e),kr(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.node,o=e.readOnly,a="block"===r.object?"div":"span",i=n.createElement(a,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),s=n.createElement(a,{contentEditable:!!o&&null},t);return this.debug("render",{props:e}),n.createElement(a,{"data-slate-void":!0,"data-key":r.key,contentEditable:!(!o&&"block"!==r.object)&&null},o?null:i,s)}}]),t}(n.Component);ha.propTypes={block:W.block,children:Q.any.isRequired,editor:Q.object.isRequired,node:W.node.isRequired,parent:W.node.isRequired,readOnly:Q.bool.isRequired};var ya=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key+" ("+a.type+")";va.apply(void 0,[t,""+i].concat(r))},this.renderText=function(){var t=e.props,r=t.block,o=t.decorations,a=t.node,i=t.readOnly,s=t.editor,l=a.getFirstText();return n.createElement(fa,{block:"block"===a.object?a:r,decorations:o,editor:s,key:l.key,node:l,parent:a,readOnly:i})}};function ma(e,t){var n=r.Set().asMutable(),o=[];return function(e,t){if(t.isEmpty())return e.nodes.toArray().map(function(e,t){return{child:e,index:t}});var n=wr({},e.key,0),r=1;e.forEachDescendant(function(e){n[e.key]=r,r+=1});var o=e.nodes.toArray(),a=o.map(function(e,t){return{child:e,index:t,order:n[e.key]}});return t.forEach(function(e){var t=n[e.start.key],i=void 0===t?0:function(e,t,n){var r=e.findIndex(function(e){return n<t[e.key]});if(r<=0)return 0;var o=e[r-1];return t[o.key]}(o,n,t);a.push({isRangeStart:!0,order:i-.5,decoration:e});var s=(n[e.end.key]||r)+.5;a.push({isRangeEnd:!0,order:s,decoration:e})}),a.sort(function(e,t){return e.order>t.order?1:-1})}(e,t).forEach(function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):o.push(n.toList())}),o}var ga=z("slate:node"),ba=function(e){function t(){var e,n,r;br(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Er(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),ka.call(r),Er(r,n)}return Or(t,e),kr(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(n)return!0;te(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!==o.readOnly||(r.node!==o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,r=t.editor,o=t.isSelected,a=t.isFocused,i=t.node,s=t.decorations,l=t.parent,u=t.readOnly,c=r.value.selection,d=i.getSelectionIndexes(c,o),f=ma(i,s.concat(i.getDecorations(r))),p=[];i.nodes.forEach(function(t,n){var r=!!d&&d.start<=n&&n<d.end;p.push(e.renderNode(t,r,f[n]))});var v={"data-key":i.key};i.isLeafBlock()&&("rtl"===i.getTextDirection()&&(v.dir="rtl"));var h={key:i.key,editor:r,isFocused:a,isSelected:o,node:i,parent:l,readOnly:u},y=r.run("renderNode",Cr({},h,{attributes:v,children:p}));return r.query("isVoid",i)?n.createElement(ha,this.props,y):y}}]),t}(n.Component);ba.propTypes={block:W.block,decorations:sa.list.isRequired,editor:Q.object.isRequired,isFocused:Q.bool.isRequired,isSelected:Q.bool.isRequired,node:W.node.isRequired,parent:W.node.isRequired,readOnly:Q.bool.isRequired};var ka=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key,s=a.type;ga.apply(void 0,[t,i+" ("+s+")"].concat(r))},this.renderNode=function(t,r,o){var a=e.props,i=a.block,s=a.editor,l=a.node,u=a.readOnly,c=a.isFocused,d="text"===t.object?fa:ba;return n.createElement(d,{block:"block"===l.object?l:i,decorations:o,editor:s,isSelected:r,isFocused:c&&r,key:t.key,node:t,parent:l,readOnly:u})}};function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=go(e.key,t),r=0,o=Array.from(n.querySelectorAll("[data-slate-content], [data-slate-zero-width]")),a=!0,i=!1,s=void 0;try{for(var l,u=o[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=c.childNodes[0],f=d.textContent.length,p=f;c.hasAttribute("data-slate-length")&&(p=parseInt(c.getAttribute("data-slate-length"),10));var v=r+p;if(e.offset<=v)return{node:d,offset:Math.min(f,Math.max(0,e.offset-r))};r=v}}catch(e){i=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw s}}return null}function Ca(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=e.anchor,r=e.focus,o=e.isBackward,a=e.isCollapsed,i=wa(n,t),s=a?i:wa(r,t);if(!i||!s)return null;var l=t.document.createRange(),u=o?s:i,c=o?i:s;return l.setStart(u.node,u.offset),l.setEnd(c.node,c.offset),l}var Oa=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,a=t.compareDocumentPosition(r);return!(4===a||0===a&&n<o)},Ea=["auto","overlay","scroll"],xa=We&&!!window.navigator.userAgent.match(/os 11_/i);function Sa(e){if(!xa&&e.anchorNode){var t=Ge(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(Ea.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n===t.document.body||n===t.document.documentElement,o=Oa(e),a=e.getRangeAt(0).cloneRange();a.collapse(o);var i=a.getBoundingClientRect();Le&&a.collapsed&&0===i.top&&0===i.height&&(0===a.startOffset?a.setEnd(a.endContainer,1):a.setStart(a.startContainer,a.startOffset-1),0===(i=a.getBoundingClientRect()).top&&0===i.height&&a.getClientRects().length&&(i=a.getClientRects()[0]));var s=void 0,l=void 0,u=void 0,c=void 0,d=0,f=0,p=0,v=0,h=0,y=0,m=0,g=0;if(r){s=t.innerWidth,l=t.innerHeight,u=t.pageYOffset,c=t.pageXOffset}else{var b=n.offsetWidth,k=n.offsetHeight,w=n.scrollTop,C=n.scrollLeft,O=t.getComputedStyle(n),E=O.borderTopWidth,x=O.borderBottomWidth,S=O.borderLeftWidth,T=O.borderRightWidth,F=O.paddingTop,D=O.paddingBottom,N=O.paddingLeft,A=O.paddingRight,_=n.getBoundingClientRect();s=b,l=k,d=_.top+parseInt(E,10),f=_.left+parseInt(S,10),p=parseInt(E,10)+parseInt(x,10),v=parseInt(S,10)+parseInt(T,10),h=parseInt(F,10),y=parseInt(D,10),m=parseInt(N,10),g=parseInt(A,10),u=w,c=C}var R=i.top+u-d,I=i.left+c-f,B=c,j=u;I<c?B=I-m:I+i.width+v>c+s&&(B=I+v+g-s),R<u?j=R-h:R+i.height+p>u+l&&(j=R+p+y+i.height-l),r?t.scrollTo(B,j):(n.scrollTop=j,n.scrollLeft=B)}}var Ta=/Permission denied to access property "nodeType"/,Fa=z("slate:content");Fa.update=z("slate:update");var Da=function(e){function t(){var e,r,o;br(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=o=Er(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.tmp={isUpdatingSelection:!1},o.handlers=ne.reduce(function(e,t){return e[t]=function(e){return o.onEvent(t,e)},e},{}),o.updateSelection=function(){var e=o.props.editor.value.selection,t=e.isBackward,n=Ge(o.element),r=n.getSelection(),a=n.document.activeElement;if(Fa.update("updateSelection",{selection:e.toJSON()}),r){var i=r.rangeCount,s=r.anchorNode,l=!1;if(e.isBlurred&&a===o.element&&(o.element.blur(),l=!0),e.isUnset&&i&&o.isInEditor(s)&&(bo(r),l=!0),e.isFocused&&a!==o.element&&(o.element.focus({preventScroll:!0}),l=!0),e.isFocused&&e.isSet){var u=!!i&&r.getRangeAt(0),c=Ca(e,n);if(!c)return void te(!1,"Unable to find a native DOM range from the current selection.");var d=c.startContainer,f=c.startOffset,p=c.endContainer,v=c.endOffset;if(u&&(d===u.startContainer&&f===u.startOffset&&p===u.endContainer&&v===u.endOffset||d===u.endContainer&&f===u.endOffset&&p===u.startContainer&&v===u.startOffset))return;l=!0,o.tmp.isUpdatingSelection=!0,bo(r),r.setBaseAndExtent?t?r.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):r.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset):r.addRange(c),Sa(r),setTimeout(function(){Pe&&o.element&&o.element.focus(),o.tmp.isUpdatingSelection=!1})}l&&(Fa("updateSelection",{selection:e,native:r,activeElement:a}),Fa.update("updateSelection-applied",{selection:e}))}},o.ref=function(e){o.element=e},o.isInEditor=function(e){var t=o.element,n=void 0;try{if(8===e.nodeType)return!1;n=3===e.nodeType?e.parentNode:e}catch(e){if(Pe&&Ta.test(e.message))return!1;throw e}return n.isContentEditable&&(n===t||n.closest("[data-slate-editor]")===t)},o.onNativeSelectionChange=Qo(function(e){o.props.readOnly||Ge(e.target).document.activeElement===o.element&&o.props.onEvent("onSelect",e)},100),o.renderNode=function(e,t,r){var a=o.props,i=a.editor,s=a.readOnly,l=i.value,u=l.document,c=l.selection.isFocused;return n.createElement(ba,{block:null,editor:i,decorations:r,isSelected:t,isFocused:c&&t,key:e.key,node:e,parent:u,readOnly:s})},Er(o,r)}return Or(t,e),kr(t,[{key:"componentDidMount",value:function(){Ge(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),$e&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function(){var e=Ge(this.element);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),$e&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function(){Fa.update("componentDidUpdate"),this.updateSelection()}},{key:"onEvent",value:function(e,t){if(Fa("onEvent",e),!this.tmp.isUpdatingSelection||"onSelect"!==e&&"onBlur"!==e&&"onFocus"!==e){if(!Ve&&"onSelect"===e){var n=this.props.editor,r=n.value.selection,o=Mr(Ge(t.target).getSelection(),n);if(o&&o.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"===e||"onDragEnter"===e||"onDragExit"===e||"onDragLeave"===e||"onDragOver"===e||"onDragStart"===e||"onDrop"===e)if(t.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!==e&&"onBlur"!==e&&"onCompositionEnd"!==e&&"onCompositionStart"!==e&&"onCopy"!==e&&"onCut"!==e&&"onFocus"!==e&&"onInput"!==e&&"onKeyDown"!==e&&"onKeyUp"!==e&&"onPaste"!==e&&"onSelect"!==e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e=this,t=this.props,r=this.handlers,o=t.id,a=t.className,i=t.readOnly,s=t.editor,l=t.tabIndex,u=t.role,c=t.tagName,d=t.spellCheck,f=s.value,p=c,v=f.document,h=f.selection,y=f.decorations,m=v.getSelectionIndexes(h),g=ma(v,v.getDecorations(s).concat(y)),b=v.nodes.toArray().map(function(t,n){var r=!!m&&m.start<=n&&n<m.end;return e.renderNode(t,r,g[n])}),k=Cr({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},i?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);return Fa("render",{props:t}),Fa.update("render",{text:f.document.text,selection:f.selection.toJSON(),value:f.toJSON()}),n.createElement(p,Cr({},r,{"data-slate-editor":!0,ref:this.ref,"data-key":v.key,contentEditable:!i||null,suppressContentEditableWarning:!0,id:o,className:a,autoCorrect:t.autoCorrect?"on":"off",spellCheck:d,style:k,role:i?null:u||"textbox",tabIndex:l,"data-gramm":!1}),b)}}]),t}(n.Component);Da.propTypes={autoCorrect:Q.bool.isRequired,className:Q.string,editor:Q.object.isRequired,id:Q.string,readOnly:Q.bool.isRequired,role:Q.string,spellCheck:Q.bool.isRequired,style:Q.object,tabIndex:Q.number,tagName:Q.string},Da.defaultProps={style:{},tagName:"div"};var Na=[].concat(Sr(ne),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","schema"]);function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.placeholder,r=e.plugins,o=void 0===r?[]:r;var a=[],i=Na.reduce(function(t,n){return n in e&&(t[n]=e[n]),t},{});return a.push(Po({plugins:[i].concat(Sr(o))})),t&&a.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ie++,r={type:"placeholder",data:{key:t}},o=e.placeholder,a=e.when,i=e.style,s=void 0===i?{}:i;return re(o,"You must pass `SlateReactPlaceholder` an `options.placeholder` string."),re(a,"You must pass `SlateReactPlaceholder` an `options.when` query."),{decorateNode:function(e,t,n){if(!t.query(a,e))return n();var o=n(),i=t.value.document,s=e.getFirstText(),l=e.getLastText(),u={anchor:{key:s.key,offset:0,path:i.getPath(s.key)},focus:{key:l.key,offset:l.text.length,path:i.getPath(l.key)},mark:r};return[].concat(ae(o),[u])},renderMark:function(e,r,a){var i=e.children,l=e.mark;if("placeholder"===l.type&&l.data.get("key")===t){var u=oe({pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"},s);return n.createElement("span",null,n.createElement("span",{contentEditable:!1,style:u},o),i)}return a()}}}({placeholder:t,when:function(e,t){return"document"===t.object&&""===t.text&&1===t.nodes.size&&1===t.getTexts().size}})),a.push({decorateNode:function(e,t,n){return[]},renderEditor:function(e,t,r){return n.createElement(Da,{autoCorrect:e.autoCorrect,className:e.className,editor:t,id:e.id,onEvent:function(e,n){return t.run(e,n)},readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName})},renderNode:function(e,t,r){var o=e.attributes,a=e.children,i=e.node.object;if("block"!==i&&"inline"!==i)return null;var s="block"===i?"div":"span";return n.createElement(s,Cr({},o,{style:{position:"relative"}}),a)}}),a}var _a=z("slate:editor"),Ra=function(e){function n(){var e,r,o;br(this,n);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=o=Er(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={value:o.props.defaultValue},o.tmp={mounted:!1,change:null,resolves:0,updates:0},o.resolveController=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,n=void 0,r=[],o=void 0,a=!1,i=function(e,n){return t(e,r[n])};return function(){for(var t=arguments.length,s=Array(t),l=0;l<t;l++)s[l]=arguments[l];return a&&n===this&&s.length===r.length&&s.every(i)?o:(a=!0,n=this,r=s,o=e.apply(this,s))}}(function(){te(o.tmp.resolves<5||o.tmp.resolves!==o.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),o.tmp.resolves++;var e=Aa(Cr({},o.props,{value:o.props.value||o.state.value}));o.controller=new t.Editor({plugins:[e],onChange:function(e){o.tmp.mounted?o.handleChange(e):o.tmp.change=e}},{controller:o,construct:!1}),o.controller.run("onConstruct")}),Er(o,r)}return Or(n,e),kr(n,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function(){this.tmp.mounted=!1}},{key:"render",value:function(){_a("render",this);var e=Cr({},this.props,{editor:this}),t=e.commands,n=e.placeholder,r=e.plugins,o=e.queries,a=e.schema;this.resolveController(r,a,t,o,n);var i=e.options,s=e.readOnly,l=e.value,u=this.state.value,c=l||u;return this.controller.setReadOnly(s),this.controller.setValue(c,i),this.controller.run("renderEditor",Cr({},e,{value:c}))}},{key:"handleChange",value:function(e){var t=this.props.onChange;this.state.value&&this.setState({value:e.value}),t(e)}},{key:"applyOperation",value:function(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"hasCommand",value:function(){var e;return(e=this.controller).hasCommand.apply(e,arguments)}},{key:"hasQuery",value:function(){var e;return(e=this.controller).hasQuery.apply(e,arguments)}},{key:"normalize",value:function(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){Z(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Z(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),n}(n.Component);Ra.propTypes=Cr({autoCorrect:Q.bool,autoFocus:Q.bool,className:Q.string,defaultValue:W.value,id:Q.string,onChange:Q.func,options:Q.object,placeholder:Q.any,plugins:Q.array,readOnly:Q.bool,role:Q.string,schema:Q.object,spellCheck:Q.bool,style:Q.object,tabIndex:Q.number,value:W.value},ne.reduce(function(e,t){return e[t]=Q.func,e},{})),Ra.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0};var Ia={Editor:Ra,cloneFragment:Oo,findDOMNode:go,findDOMRange:Ca,findNode:Eo,findRange:Mr,getEventRange:xo,getEventTransfer:_o,setEventTransfer:Bo,ReactPlugin:Aa};e.Editor=Ra,e.cloneFragment=Oo,e.findDOMNode=go,e.findDOMRange=Ca,e.findNode=Eo,e.findRange=Mr,e.getEventRange=xo,e.getEventTransfer=_o,e.setEventTransfer=Bo,e.ReactPlugin=Aa,e.default=Ia,Object.defineProperty(e,"__esModule",{value:!0})});
