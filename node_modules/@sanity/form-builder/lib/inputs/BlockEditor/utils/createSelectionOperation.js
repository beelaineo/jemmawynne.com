"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createSelectionOperation;

var _slate = require("slate");

function createSelectionOperation(change) {
  var focusPath = change.value.selection.focus && change.value.selection.focus.key ? change.value.document.getPath(change.value.selection.focus.key) : undefined;
  var anchorPath = change.value.selection.anchor && change.value.selection.anchor.key ? change.value.document.getPath(change.value.selection.anchor.key) : undefined;
  var props = {
    type: 'set_selection',
    value: change.value,
    selection: change.value.selection,
    properties: {
      anchor: {
        path: anchorPath ? anchorPath.toArray() : null,
        offset: change.value.selection.anchor.offset
      },
      focus: {
        path: focusPath ? focusPath.toArray() : null,
        offset: change.value.selection.focus.offset
      }
    }
  };
  return _slate.Operation.create(props);
}