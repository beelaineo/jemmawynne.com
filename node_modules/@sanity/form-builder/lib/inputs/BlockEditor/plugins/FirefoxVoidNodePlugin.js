"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = FirefoxVoidNodePlugin;

// This plugin makes sure arrow-down-navigation works in Firefox when on void-blocks
function FirefoxVoidNodePlugin() {
  var browser = navigator.userAgent.toLowerCase();

  if (browser.indexOf('firefox') === -1) {
    return {};
  }

  return {
    onKeyDown(event, editor, next) {
      if (event.key !== 'ArrowDown') {
        return next();
      }

      if (!editor.query('isVoid', editor.value.focusBlock)) {
        return next();
      }

      event.preventDefault();
      editor.moveForward();
      return editor;
    }

  };
}