{"version":3,"sources":["../src/parseAssetId.js"],"names":["example","parseAssetId","ref","split","id","dimensionString","format","Error","imgWidthStr","imgHeightStr","width","height","isValidAssetId","isFinite"],"mappings":";;;;;;;;;;;;;;;AAAA,IAAMA,OAAO,GAAG,8CAAhB;;AAEe,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AAAA,mBACAA,GAAG,CAACC,KAAJ,CAAU,GAAV,CADA;AAAA;AAAA,MAC/BC,EAD+B;AAAA,MAC3BC,eAD2B;AAAA,MACVC,MADU;;AAGxC,MAAI,CAACF,EAAD,IAAO,CAACC,eAAR,IAA2B,CAACC,MAAhC,EAAwC;AACtC,UAAM,IAAIC,KAAJ,iCAAmCL,GAAnC,sCAAiEF,OAAjE,SAAN;AACD;;AALuC,8BAOJK,eAAe,CAACF,KAAhB,CAAsB,GAAtB,CAPI;AAAA;AAAA,MAOjCK,WAPiC;AAAA,MAOpBC,YAPoB;;AASxC,MAAMC,KAAK,GAAG,CAACF,WAAf;AACA,MAAMG,MAAM,GAAG,CAACF,YAAhB;AAEA,MAAMG,cAAc,GAAGC,QAAQ,CAACH,KAAD,CAAR,IAAmBG,QAAQ,CAACF,MAAD,CAAlD;;AACA,MAAI,CAACC,cAAL,EAAqB;AACnB,UAAM,IAAIL,KAAJ,iCAAmCL,GAAnC,sCAAiEF,OAAjE,SAAN;AACD;;AAED,SAAO;AAACI,IAAAA,EAAE,EAAFA,EAAD;AAAKM,IAAAA,KAAK,EAALA,KAAL;AAAYC,IAAAA,MAAM,EAANA,MAAZ;AAAoBL,IAAAA,MAAM,EAANA;AAApB,GAAP;AACD","sourcesContent":["const example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg'\n\nexport default function parseAssetId(ref) {\n  const [, id, dimensionString, format] = ref.split('-')\n\n  if (!id || !dimensionString || !format) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  const [imgWidthStr, imgHeightStr] = dimensionString.split('x')\n\n  const width = +imgWidthStr\n  const height = +imgHeightStr\n\n  const isValidAssetId = isFinite(width) && isFinite(height)\n  if (!isValidAssetId) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  return {id, width, height, format}\n}\n"],"file":"parseAssetId.js"}