"use strict";

module.exports = function pathToString(path) {
  return path.reduce((target, segment, i) => {
    var segmentType = typeof segment;

    if (segmentType === 'number') {
      return "".concat(target, "[").concat(segment, "]");
    }

    if (segmentType === 'string') {
      var separator = i === 0 ? '' : '.';
      return "".concat(target).concat(separator).concat(segment);
    }

    if (segment._key) {
      return "".concat(target, "[_key==\"").concat(segment._key, "\"]");
    }

    throw new Error("Unsupported path segment \"".concat(segment, "\""));
  }, '');
};