"use strict";

var _es6Error = _interopRequireDefault(require("es6-error"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class ValidationError extends _es6Error.default {
  constructor(message) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super(message);
    this.paths = options.paths || [];
    this.children = options.children;
    this.operation = options.operation;
  }

  prefixPaths(prefix) {
    this.paths = this.paths.map(path => prefix.concat(path));
    return this;
  }

  cloneWithMessage(msg) {
    return new ValidationError(msg, {
      paths: this.paths,
      children: this.children,
      operation: this.operation
    });
  }

}

module.exports = ValidationError;