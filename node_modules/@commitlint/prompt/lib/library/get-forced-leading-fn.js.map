{"version":3,"sources":["../../src/library/get-forced-leading-fn.js"],"names":["getForcedLeadingFn","rule","noop","input","remove","fragments","split","slice","join","lead","leading","getForcedLeading","severity","applicable","negated"],"mappings":";;;;;;;;;;kBAKwBA,kB;;;;AALxB;;;;;AAKe,SAASA,kBAAT,CAA4BC,IAA5B,EAAkC;AAChD,OAAMC,OAAOC,SAASA,KAAtB;AACA,OAAMC,SAASD,SAAS;AACvB,QAAME,YAAYF,MAAMG,KAAN,CAAY,IAAZ,CAAlB;AACA,SAAOD,UAAU,CAAV,MAAiB,EAAjB,GAAsBA,UAAUE,KAAV,CAAgB,CAAhB,EAAmBC,IAAnB,CAAwB,IAAxB,CAAtB,GAAsDL,KAA7D;AACA,EAHD;AAIA,OAAMM,OAAON,SAAS;AACrB,QAAME,YAAYF,MAAMG,KAAN,CAAY,IAAZ,CAAlB;AACA,SAAOD,UAAU,CAAV,MAAiB,EAAjB,GAAsBF,KAAtB,GAA8B,CAAC,EAAD,EAAK,GAAGE,SAAR,EAAmBG,IAAnB,CAAwB,IAAxB,CAArC;AACA,EAHD;;AAKA,KAAI,CAACP,IAAL,EAAW;AACV,SAAOC,IAAP;AACA;;AAED,OAAMQ,UAAUC,iBAAiBV,IAAjB,CAAhB;;AAEA,KAAIS,YAAY,IAAhB,EAAsB;AACrB,SAAOR,IAAP;AACA;;AAED,QAAOQ,UAAUD,IAAV,GAAiBL,MAAxB;AACA;;AAED;;;;;AAKA,SAASO,gBAAT,CAA0BV,IAA1B,EAAgC;AAC/B,KAAI,CAACA,IAAL,EAAW;AACV,SAAO,IAAP;AACA;;AAH8B,0CAKIA,IALJ;AAAA;;AAAA,OAKrBW,QALqB;AAAA,OAKXC,UALW;;AAM/B,OAAMC,UAAUD,eAAe,OAA/B;;AAEA,KAAID,aAAa,CAAjB,EAAoB;AACnB,SAAO,IAAP;AACA;;AAED,QAAO,CAACE,OAAR;AACA","file":"get-forced-leading-fn.js","sourcesContent":["/**\n * Get forced leading for rule\n * @param {object} rule to parse\n * @return {fn} transform function applying the leading\n */\nexport default function getForcedLeadingFn(rule) {\n\tconst noop = input => input;\n\tconst remove = input => {\n\t\tconst fragments = input.split('\\n');\n\t\treturn fragments[0] === '' ? fragments.slice(1).join('\\n') : input;\n\t};\n\tconst lead = input => {\n\t\tconst fragments = input.split('\\n');\n\t\treturn fragments[0] === '' ? input : ['', ...fragments].join('\\n');\n\t};\n\n\tif (!rule) {\n\t\treturn noop;\n\t}\n\n\tconst leading = getForcedLeading(rule);\n\n\tif (leading === null) {\n\t\treturn noop;\n\t}\n\n\treturn leading ? lead : remove;\n}\n\n/**\n * Get forced leading for rule\n * @param {object} rule to parse\n * @return {boolean|null} transform function applying the leading\n */\nfunction getForcedLeading(rule) {\n\tif (!rule) {\n\t\treturn null;\n\t}\n\n\tconst [, [severity, applicable]] = rule;\n\tconst negated = applicable === 'never';\n\n\tif (severity === 0) {\n\t\treturn null;\n\t}\n\n\treturn !negated;\n}\n"]}