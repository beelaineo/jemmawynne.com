{"version":3,"sources":["../../src/library/format.js"],"names":["format","input","debug","results","reduce","registry","item","name","value","grey","bold","type","scope","subject","body","footer","filter","Boolean","join"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;kBAEeA,M;;AAEf;;;;;;;AAMA,SAASA,MAAT,CAAgBC,KAAhB,EAAuBC,QAAQ,KAA/B,EAAsC;AACrC,OAAMC,UAAUD,QACb,qBAAQD,KAAR,EAAeG,MAAf,CAAsB,CAACC,QAAD,EAAWC,IAAX,KAAoB;AAAA,2CACpBA,IADoB;;AAAA,QACnCC,IADmC;AAAA,QAC7BC,KAD6B;;AAE1CH,WAASE,IAAT,IACCC,UAAU,IAAV,GAAiB,gBAAMC,IAAN,CAAY,IAAGF,IAAK,GAApB,CAAjB,GAA2C,gBAAMG,IAAN,CAAWF,KAAX,CAD5C;AAEA,SAAOH,QAAP;AACC,EALD,EAKG,EALH,CADa,GAObJ,KAPH;;AASA;AAVqC,OAW9BU,IAX8B,GAWQR,OAXR,CAW9BQ,IAX8B;AAAA,OAWxBC,KAXwB,GAWQT,OAXR,CAWxBS,KAXwB;AAAA,OAWjBC,OAXiB,GAWQV,OAXR,CAWjBU,OAXiB;AAAA,OAWRC,IAXQ,GAWQX,OAXR,CAWRW,IAXQ;AAAA,OAWFC,MAXE,GAWQZ,OAXR,CAWFY,MAXE;;AAYrC,QAAO,CACL,GAAEJ,IAAK,GAAEC,QAAQ,GAAR,GAAc,EAAG,GAAEA,KAAM,GAAEA,QAAQ,GAAR,GAAc,EAAG,GACrDD,QAAQC,KAAR,GAAgB,GAAhB,GAAsB,EACtB,IAAGC,OAAQ,EAHN,EAINC,IAJM,EAKNC,MALM,EAOLC,MAPK,CAOEC,OAPF,EAQLC,IARK,CAQA,IARA,CAAP;AASA","file":"format.js","sourcesContent":["import chalk from 'chalk';\nimport {toPairs} from 'lodash';\n\nexport default format;\n\n/**\n * Get formatted commit message\n * @param  {object}  input object containing structured results\n * @param  {boolean} debug show debug information in commit message\n * @return {string}        formatted debug message\n */\nfunction format(input, debug = false) {\n\tconst results = debug\n\t\t? toPairs(input).reduce((registry, item) => {\n\t\t\t\tconst [name, value] = item;\n\t\t\t\tregistry[name] =\n\t\t\t\t\tvalue === null ? chalk.grey(`<${name}>`) : chalk.bold(value);\n\t\t\t\treturn registry;\n\t\t  }, {})\n\t\t: input;\n\n\t// Return formatted string\n\tconst {type, scope, subject, body, footer} = results;\n\treturn [\n\t\t`${type}${scope ? '(' : ''}${scope}${scope ? ')' : ''}${\n\t\t\ttype || scope ? ':' : ''\n\t\t} ${subject}`,\n\t\tbody,\n\t\tfooter\n\t]\n\t\t.filter(Boolean)\n\t\t.join('\\n');\n}\n"]}